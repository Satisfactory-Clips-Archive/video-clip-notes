---
title: "October 9th, 2020 Livestream Dylan Talk: Working on the Replication Graph"
date: "2020-10-09"
layout: transcript
topics:
    - "features/buildables/conveyor-belts"
    - "features/multiplayer"
    - "technology/unreal-engine"
---
# [October 9th, 2020 Livestream](../2020-10-09.md)
## Dylan Talk: Working on the Replication Graph
https://www.youtube.com/watch?v=0THShqltbYM

### Topics
* [Features > Buildables > Conveyor Belts](../topics/features/buildables/conveyor-belts.md)
* [Features > Multiplayer](../topics/features/multiplayer.md)
* [Technology > Unreal Engine](../topics/technology/unreal-engine.md)

### Transcript

> concordantly visa and like in those different aspects too so I had earlier in the stream I mentioned that I've been working on the networking stuff which is actually in this context would be the replication graph, so I had updated that to 425 before so we could have the replication graph because that that has a lot of bug fixes, and when I was doing that implemented some nice optimizations there so like that won't show up on a profiler as a performance issue right but when you're running a server, that's a whole separate thing so there's a lot of different areas to optimize unfortunately yeah but those those will be coming in, hopefully soon tm but we've been working on a lot of things besides behind the scenes oops kind of the state of affairs so there's good stuff talk about the, like the replication system that you're working on, let's see yeah, and the major changes do you have anything you can show, before we wrap up actually I wish I did I have three branches yeah let me see if I have a image here I don't want this to show on stream if it's not, let me see real quick whoa my god whoa look at that oh I wish you could see the other monitor right now chad but that is amazing I can't believe you have that on your computer like that done that is wild stuff right yeah I know dude I'm my mind is blown for some reason this file is not there we go great pain yeah so this is this is a graph that I know this is a optimization thing that's oh yeah this is, and this feature isn't fully complete but what I'm essentially doing here this is the way it works not now no this is not now but you can see a bunch of the replication system works like range checks basically and what I'm implementing is a way that belts will only send their network data when they're actually in the view frustum so in this case you can see the I've set up a grid and the green indicates that it's a high replication rate you can see here it says frames till that basically means it's replicating every frame which means it's sending data every frame but in the current way and the default replication system it doesn't matter which way the player is looking so these black boxes back here which you can see it's period 60 which means, it's never going to replicate or send it send its data these would also be sending data in the current setup so if I look the opposite direction you can see everything behind me is no longer replicating and this like there's a lot of more data but the key takeaway here is this is what it would be like now but it would stay that way no matter which way I was looking but in this it dips down a lot so we're going down from 25 kilobytes per second all the way down to 10 10 and this is a huge these are densely layered conveyors and lifts I actually got this, file from ben because he was testing the instancing on them I think, yeah so this is one of the optimizations going into the rip graph for just conveyor belts because they're kind of unique so good things to come yo will that fix the no no I mean it'll a lot of issues do come from set over saturation of bandwidth yeah so by doing these improvements we can, smooth out the rough parts yeah I just I think I just want to show this because green is good and you know green's good loose like okay you know red is like that's bad orange you know yellow it's okay bad it was is actually pretty substantial improvements to the replication but we won't see this improvement in a long time it'll be it'll be a little bit it's I think this is going to come with the engine upgrade whenever that goes and there's going to be so many other issues that you're not going to be able to like probably but so we're we're working on it we hear you yeah, but I think it'd be good stuff there's a lot of stuff going on right now at the same time at the studio so it's kind of hard to, to, explain it but, there's there's a lot of work that's happening in the background pen fighter I could read your text all day that's what I'm saying yeah and lack of bandwidth was one of the yeah that's a persistent the over saturation of bandwidth is leads to a lot of issues and the the problem with the fps why does it take so long to improve fps is because while we're improving the fps you guys keep making bigger bases so cut it out well it's okay because we have the, the object limit to stop yeah that's like the hard limit like all right just take it easy but that limit though I some of the saves that I've loaded and I've been profiling on and testing it's, they're so insane I mean you guys are amazing but it's ridiculous like if you asked me like what what's the biggest base somebody's gonna make like it probably would have been like a half or fourth the size of some of the ones we're getting insane it's amazing all right
